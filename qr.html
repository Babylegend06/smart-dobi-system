<!DOCTYPE html>
<html>
<body style="font-family:Arial;text-align:center;padding:40px;">

<h2>Imbas QR & Bayar</h2>

<!-- QR Code demo -->
<img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=SMARTDOBI_TEST" style="margin:20px;"/>

<p>Status mesin: <span id="status-text">Belum dibayar</span></p>

<button onclick="approve()" style="padding:15px;margin-top:20px;">Approve</button>

<script>
const url = new URL(window.location.href);
const machine = url.searchParams.get("machine");

function approve(){
    alert("Mesin "+machine+" telah dibayar!\nKiosk akan detect dan auto redirect.");
    
    // Simulate update status for demo (in real: fetch server/ESP32)
    localStorage.setItem("mesin"+machine,"paid");
    
    document.getElementById("status-text").innerText = "Bayar lengkap";
    document.getElementById("status-text").style.color = "green";
}
</script>

</body>
</html>
