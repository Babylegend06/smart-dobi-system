<!DOCTYPE html>
<html>
<body style="font-family:Arial;text-align:center;padding:40px;">

<h2>Approve Pembayaran</h2>

<p>Mesin: <span id="machine-num"></span></p>
<p>Status: <span id="status-text" style="color:red;">Belum dibayar</span></p>

<button onclick="approve()" style="padding:15px;margin-top:20px;">Approve</button>

<script>
const url = new URL(window.location.href);
const machine = url.searchParams.get("machine");
document.getElementById("machine-num").innerText = machine;

function approve(){
    document.getElementById("status-text").innerText = "Bayar lengkap";
    document.getElementById("status-text").style.color = "green";
    alert("Mesin "+machine+" telah dibayar! Kiosk akan detect dan redirect ke Page 3.");

    // Simulate update JSON / status for kiosk (demo)
    // Dalam real: fetch ke server / ESP32 endpoint
}
</script>

</body>
</html>
